import{d as $,I as b,J as F,O as N,P as z,c as D,o,E as j,f as m,w as u,Q as E,T as I,C as L,D as q,b as l,n as i,z as t,e as n,s as c,L as f,F as g,t as y,v as p,R as M,u as H,_ as J}from"./index-C8_KvqLc.js";import{_ as Q}from"./CloseIcon.vue_vue_type_script_setup_true_lang-BO1-knco.js";import{M as S}from"./MjButton-BmN55pLQ.js";const R={class:"mj-modal-scroll"},W={class:"mj-modal-wrapper"},G={class:"mj-modal-header"},K={class:"mj-modal-close-hover"},U={key:0,class:"mj-modal-footer"},X=$({inheritAttrs:!1,__name:"MjModal",props:b({title:{},renderToBody:{type:Boolean,default:!0},popupContainer:{default:"body"},unmountOnClose:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},okText:{default:"确定"},cancelText:{default:"取消"},okButtonProps:{},cancelButtonProps:{},hideCancel:{type:Boolean,default:!1},titleAlign:{default:"center"},mask:{type:Boolean,default:!0},width:{},footer:{type:Boolean,default:!0},hideTitle:{type:Boolean,default:!1},maskStyle:{},modalStyle:{},modalClass:{},bodyStyle:{},bodyClass:{},onBeforeOk:{type:Function,default:()=>!0},onBeforeCancel:{type:Function,default:()=>!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:b(["cancel","ok"],["update:modelValue"]),setup(k,{emit:T}){const d=F(k,"modelValue"),w=N(),s=k,C=T,v=z(),A=D(()=>typeof s.width=="number"?`${s.width}px`:s.width),B=()=>{C("ok"),d.value=!1},h=e=>{C("cancel",e),d.value=!1},r=e=>{const a=s.onBeforeCancel();a instanceof Promise?a.then(()=>{h(e)}):a&&h(e)},P=()=>{const e=s.onBeforeOk();e instanceof Promise?e.then(()=>{B()}):e&&B()},O=()=>{s.maskClosable&&r("mask")};return(e,a)=>(o(),j(I,{to:e.popupContainer,disabled:!e.renderToBody},[m(E,{name:"mj-modal-scale"},{default:u(()=>[!e.unmountOnClose||d.value?L((o(),l("div",{key:0,class:c(["mj-modal-container",H(w).class])},[e.mask?(o(),l("div",{key:0,class:"mj-modal-mask",style:i(e.maskStyle),onClick:O},null,4)):t("",!0),n("div",R,[n("div",W,[n("div",{class:c(["mj-modal",...Array.isArray(e.modalClass)?e.modalClass:[e.modalClass]]),style:i({width:A.value,...e.modalStyle})},[n("div",G,[e.hideTitle?t("",!0):(o(),l("div",{key:0,class:"mj-modal-title",style:i({textAlign:e.titleAlign,paddingLeft:e.titleAlign==="start"?"0px":void 0})},[v.title?f(e.$slots,"title",{key:0},void 0,!0):(o(),l(g,{key:1},[y(p(e.title),1)],64))],4)),e.closable?(o(),l("div",{key:1,class:"mj-modal-close-btn",onClick:a[0]||(a[0]=V=>r("close"))},[n("div",K,[m(Q)])])):t("",!0)]),n("div",{class:c(["mj-modal-body",...Array.isArray(e.bodyClass)?e.bodyClass:[e.bodyClass]]),style:i(e.bodyStyle)},[f(e.$slots,"default",{},void 0,!0)],6),e.footer?(o(),l("div",U,[v.footer?f(e.$slots,"footer",{key:0},void 0,!0):(o(),l(g,{key:1},[e.hideCancel?t("",!0):(o(),j(S,M({key:0,onClick:a[1]||(a[1]=V=>r("cancel"))},e.cancelButtonProps),{default:u(()=>[y(p(e.cancelText),1)]),_:1},16)),m(S,M({onClick:P,type:"primary"},e.okButtonProps),{default:u(()=>[y(p(e.okText),1)]),_:1},16)],64))])):t("",!0)],6)])])],2)),[[q,d.value]]):t("",!0)]),_:3})],8,["to","disabled"]))}}),x=J(X,[["__scopeId","data-v-a5086919"]]);export{x as M};
