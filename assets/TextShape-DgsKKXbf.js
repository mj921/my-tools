var c=Object.defineProperty;var C=(f,h,t)=>h in f?c(f,h,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[h]=t;var e=(f,h,t)=>C(f,typeof h!="symbol"?h+"":h,t);import{a as m}from"./RectShape-Dx93Qlty.js";class $ extends m{constructor({text:t,fontSize:i=14,fontFamily:s="sans-serif",fontWeight:n,fillColor:o="#000",strokeColor:l="#000",textAlign:r="left",...p}){super({...p});e(this,"text");e(this,"fontSize");e(this,"fontFamily");e(this,"fontWeight");e(this,"width");e(this,"height");e(this,"fillColor");e(this,"strokeColor");e(this,"textAlign");this.text=t,this.fontSize=i,this.fontFamily=s,this.fontWeight=n;const x=new OffscreenCanvas(100,100).getContext("2d");x.font=`${this.fontWeight||""} ${this.fontSize}px ${this.fontFamily||""}`,this.width=x.measureText(t).width,this.height=i,this.fillColor=o,this.strokeColor=l,this.textAlign=r}parseRaduisList(t){return typeof t=="number"?[t,t,t,t]:Array.isArray(t)?(t=t.filter(i=>typeof i=="number"),t.length>=4?t.slice(0,4):t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:[0,0,0,0]):[0,0,0,0]}render(t){super.render(t),t.fillStyle=this.fillColor,t.font=`${this.fontWeight||""} ${this.fontSize*this.dpr}px ${this.fontFamily||""}`,t.textBaseline="middle",t.textAlign=this.textAlign,t.fillText(this.text,this.x*this.dpr,(this.y+this.height/2)*this.dpr,this.width*this.dpr)}update({x:t,y:i,fillColor:s,strokeColor:n,text:o,fontSize:l,fontFamily:r,fontWeight:p,dpr:g}){g&&(this.dpr=g),typeof t<"u"&&(this.x=t),typeof i<"u"&&(this.y=i),s&&(this.fillColor=s),n&&(this.strokeColor=n),o&&(this.text=o),l&&(this.fontSize=l),r&&(this.fontFamily=r),p&&(this.fontWeight=p);const y=new OffscreenCanvas(100,100).getContext("2d");y.font=`${this.fontWeight||""} ${this.fontSize}px ${this.fontFamily||""}`,this.width=y.measureText(o).width}isInShape(t,i){const s=t/this.dpr,n=i/this.dpr;return!(s<this.x||s>this.x+this.width||n<this.y||n>this.y+this.height)}}export{$ as T};
