import{M as m}from"./MjInput-dmF8qiW0.js";import{M as c}from"./MjButton-BmN55pLQ.js";import{m as r}from"./MjMessage-B6PxiNxc.js";import{d as i,a as u,o as d,b as p,f as n,w as g,t as f}from"./index-C8_KvqLc.js";import"./LoadingIcon.vue_vue_type_script_setup_true_lang-Cjl4ccjb.js";const b=i({__name:"ImageTool",setup(h){const o=u(""),s=()=>{if(typeof o.value=="string"&&/https?:\/\//.test(o.value)){const e=document.createElement("img"),t=document.createElement("canvas"),a=t.getContext("2d");e.crossOrigin="anonymous",e.onload=()=>{t.width=e.width,t.height=e.height,a==null||a.drawImage(e,0,0);const l=t.toDataURL("image/png");navigator.clipboard.writeText(l).then(()=>{r.success("已复制到剪切板")}).catch(()=>{r.error("转换失败")})},e.onerror=()=>{r.error("转换失败")},e.src=o.value}};return(e,t)=>(d(),p("div",null,[n(m,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a)},null,8,["modelValue"]),n(c,{onClick:s},{default:g(()=>[f("转base64")]),_:1})]))}});export{b as default};
