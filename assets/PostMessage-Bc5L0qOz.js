import{d as t,j as n,o as a,b as d,e as i}from"./index-C8_KvqLc.js";const l=t({__name:"PostMessage",setup(p){const s=()=>{const e=window.open("https://mj921.github.io/my-tools/test/postmessage");window.addEventListener("message",o=>{o.data.msgType==="loaded"&&(e==null||e.postMessage({msgType:"test",value:{a:1}},"https://mj921.github.io"))})};return n(()=>{setTimeout(()=>{window.opener&&(window.opener.postMessage({msgType:"loaded"},"*"),window.addEventListener("message",e=>{var o;((o=e==null?void 0:e.data)==null?void 0:o.msgType)==="test"&&(console.log("%onmessage","color: red"),console.log(e))}))},3e3)}),(e,o)=>(a(),d("div",null,[i("button",{onClick:s},"打开")]))}});export{l as default};
