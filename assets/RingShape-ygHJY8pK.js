var A=Object.defineProperty;var c=(f,d,t)=>d in f?A(f,d,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[d]=t;var a=(f,d,t)=>c(f,typeof d!="symbol"?d+"":d,t);import{a as y,g as M}from"./RectShape-Dx93Qlty.js";class P extends y{constructor({rx:t,ry:e,outerRadius:i,innerRadius:n=0,startAngle:r=0,endAngle:h=360,fillColor:o="#000",strokeColor:g="#000",...l}){super({width:i*2,height:i*2,...l,x:t-i,y:e-i});a(this,"rx");a(this,"ry");a(this,"outerRadius");a(this,"innerRadius");a(this,"startAngle");a(this,"endAngle");a(this,"fillColor");a(this,"strokeColor");this.rx=t,this.ry=e,this.outerRadius=i,this.innerRadius=n,this.startAngle=r,this.endAngle=h,this.fillColor=o,this.strokeColor=g}get type(){return"RingShape"}update({rx:t,ry:e,outerRadius:i,innerRadius:n,startAngle:r,endAngle:h,fillColor:o,strokeColor:g,dpr:l}){typeof t<"u"&&(this.rx=t),typeof e<"u"&&(this.ry=e),typeof i<"u"&&(this.outerRadius=i,this.__updateSize({width:i*2,height:i*2})),typeof l<"u"&&(this.dpr=l,this.__updateSize({dpr:l})),typeof n<"u"&&(this.innerRadius=n),typeof r<"u"&&(this.startAngle=r),typeof h<"u"&&(this.endAngle=h),typeof o<"u"&&(this.fillColor=o),typeof g<"u"&&(this.strokeColor=g)}isInShape(t,e){const i=t/this.dpr,n=e/this.dpr,r=M(i,n,this.rx,this.ry);if(r<this.innerRadius||r>this.outerRadius)return!1;if(this.startAngle%360===this.endAngle%360)return!0;let h=Math.acos((i-this.rx)/r)/Math.PI*180;return n<this.ry&&(h=360-h),!(h<this.startAngle%360||(this.startAngle%360>this.endAngle%360?h<this.endAngle%360:h>this.endAngle%360))}render(t){super.render(t);const{__ctx:e,__canvas:i,dpr:n,rx:r,ry:h,innerRadius:o,outerRadius:g}=this,l=r*n,p=h*n,u=o*n,s=g*n;e.fillStyle=this.fillColor,e.beginPath(),e.moveTo(s+u*Math.cos(this.endAngle/180*Math.PI),s+u*Math.sin(this.endAngle/180*Math.PI)),e.arc(s,s,u,this.endAngle/180*Math.PI,this.startAngle/180*Math.PI,!0),e.lineTo(s+s*Math.cos(this.startAngle/180*Math.PI),s+s*Math.sin(this.startAngle/180*Math.PI)),e.arc(s,s,s,this.startAngle/180*Math.PI,this.endAngle/180*Math.PI),e.fill(),t.drawImage(i,l-s,p-s,s*2,s*2)}}export{P as R};
