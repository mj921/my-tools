import{d as U,c as b,r as C,o as n,b as d,f as c,e as o,C as s,H as m,N as h,F as B,l as T,u as p,w as y,m as S,Z as D,i as M,v as V,t as w,p as O,g as E,_ as F}from"./index-C8_KvqLc.js";import{B as L,M as I}from"./MButton-3eTdDmxA.js";import{d as R,e as $,a as j}from"./store-BWngMyRt.js";import"./index-V9QYX3jy.js";import"./LoadingIcon.vue_vue_type_script_setup_true_lang-Cjl4ccjb.js";import"./BinaryWriter-4Snmgu5s.js";const l=_=>(O("data-v-8597ca76"),_=_(),E(),_),z={class:"booking-add"},A={class:"booking-add__form"},G={class:"booking-add__form-item"},H=l(()=>o("label",{class:"booking-add__form-label"},"预订人",-1)),J={class:"booking-add__form-content"},K={class:"booking-add__form-item"},P=l(()=>o("label",{class:"booking-add__form-label"},"桌数",-1)),Z={class:"booking-add__form-content"},q={class:"booking-add__form-item"},Q=l(()=>o("label",{class:"booking-add__form-label"},"大桌数",-1)),W={class:"booking-add__form-content"},X={class:"booking-add__form-item"},Y=l(()=>o("label",{class:"booking-add__form-label"},"位置",-1)),oo={class:"booking-add__form-content"},eo=["value"],to={class:"booking-add__form-item"},ao=l(()=>o("label",{class:"booking-add__form-label"},"时间",-1)),so={class:"booking-add__form-content"},lo=["value"],io={class:"booking-add__form-item"},no=l(()=>o("label",{class:"booking-add__form-label"},"手机号",-1)),mo={class:"booking-add__form-content"},_o={class:"booking-add__form-item booking-add__form-item-wrap"},ro=l(()=>o("label",{class:"booking-add__form-label"},"备注",-1)),uo={class:"booking-add__form-content"},bo={class:"booking-add__footer"},co=U({__name:"BookingAddView",setup(_){const k=S(),g=D(),f=b(()=>k.params.date),i=b(()=>+k.params.id),v=b(()=>{const r=f.value.split("-");return{year:+r[0],month:+r[1],date:+r[2]}}),u=M(j),N=(i.value?u.getBookingById(i.value):null)||{name:"",tableNum:"",largeTableNum:"",position:"",time:"",mobile:"",remark:""};console.log(N,i.value);const e=C(N),x=()=>{i.value?u.updateBookingById(i.value,{name:e.name,tableNum:+e.tableNum,largeTableNum:+e.largeTableNum,position:+e.position,time:+e.time,mobile:e.mobile,remark:e.remark,...v.value}):u.addBooking({name:e.name,tableNum:+e.tableNum,largeTableNum:+e.largeTableNum,position:+e.position,time:+e.time,mobile:e.mobile,remark:e.remark,...v.value}),g.back()};return(r,a)=>(n(),d("div",z,[c(L,{class:"booking-add__title",date:f.value},null,8,["date"]),o("div",A,[o("dl",G,[H,o("div",J,[s(o("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>e.name=t)},null,512),[[m,e.name]])])]),o("dl",K,[P,o("div",Z,[s(o("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=t=>e.tableNum=t)},null,512),[[m,e.tableNum]])])]),o("dl",q,[Q,o("div",W,[s(o("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=t=>e.largeTableNum=t)},null,512),[[m,e.largeTableNum]])])]),o("dl",X,[Y,o("div",oo,[s(o("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>e.position=t)},[(n(!0),d(B,null,T(p(R),t=>(n(),d("option",{value:t.value,key:`position-${t.value}`},V(t.label),9,eo))),128))],512),[[h,e.position]])])]),o("dl",to,[ao,o("div",so,[s(o("select",{"onUpdate:modelValue":a[4]||(a[4]=t=>e.time=t)},[(n(!0),d(B,null,T(p($),t=>(n(),d("option",{value:t.value,key:`position-${t.value}`},V(t.label),9,lo))),128))],512),[[h,e.time]])])]),o("dl",io,[no,o("div",mo,[s(o("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=t=>e.mobile=t)},null,512),[[m,e.mobile]])])]),o("dl",_o,[ro,o("div",uo,[s(o("textarea",{rows:3,"onUpdate:modelValue":a[6]||(a[6]=t=>e.remark=t)},null,512),[[m,e.remark]])])])]),o("div",bo,[c(I,{type:"outline",size:"large",onClick:a[7]||(a[7]=t=>p(g).back())},{default:y(()=>[w("返回")]),_:1}),c(I,{type:"primary",size:"large",onClick:x},{default:y(()=>[w("保存")]),_:1})])]))}}),ho=F(co,[["__scopeId","data-v-8597ca76"]]);export{ho as default};
