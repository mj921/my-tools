var S=Object.defineProperty;var m=(o,t,e)=>t in o?S(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var h=(o,t,e)=>m(o,typeof t!="symbol"?t+"":t,e);import{d as M,o as l,b as D}from"./index-C8_KvqLc.js";const c=(o,t=2)=>o.toString().length>=t?o.toString():(new Array(t).fill("0").join("")+o).slice(-t),s=class s{constructor(t,e,r,i,u,n,$){h(this,"$d");let a=new Date;typeof t=="string"?a=new Date(t):typeof t=="number"?a=typeof e=="number"?new Date(t,e,r,i,u,n,$):new Date(t):t instanceof Date?a=new Date(t.getTime()):Array.isArray(t)?a=t.length>1?new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6]):new Date(t[0]):t instanceof s&&(a=new Date(t.$d)),this.$d=a}get $Y(){return this.$d.getFullYear()}get $M(){return this.$d.getMonth()}get $D(){return this.$d.getDate()}get $h(){return this.$d.getHours()}get $m(){return this.$d.getMinutes()}get $s(){return this.$d.getSeconds()}get $S(){return this.$d.getMilliseconds()}millisecond(t){return typeof t=="number"?(this.$d.setMilliseconds(t),this.$d.getTime()):this.$d.getMilliseconds()}second(t){return typeof t=="number"?(this.$d.setSeconds(t),this.$d.getTime()):this.$d.getSeconds()}minute(t){return typeof t=="number"?(this.$d.setMinutes(t),this.$d.getTime()):this.$d.getMinutes()}hour(t){return typeof t=="number"?(this.$d.setHours(t),this.$d.getTime()):this.$d.getHours()}date(t){return typeof t=="number"?(this.$d.setDate(t),this.$d.getTime()):this.$d.getDate()}day(t){const e=this.$d.getDay();if(typeof t=="number"){const r=t-e;return this.add(r,"d"),this.$d.getTime()}return e}month(t,e=!1){if(typeof t=="number"){if(e)this.$d.setMonth(t);else{const r=this.$Y+Math.floor(t/12),i=t%12,u=s.getMonthDays(r,i);this.$d.setDate(Math.min(u,this.$D)),this.$d.setMonth(i),this.$d.setFullYear(r)}return this.$d.getTime()}return this.$d.getMonth()}year(t,e=!1){return typeof t=="number"?(!e&&this.$M===1&&this.$D>=29&&!s.isLeapYear(t)&&this.$d.setDate(28),this.$d.setFullYear(t),this.$d.getTime()):this.$d.getFullYear()}isLeapYear(){return s.isLeapYear(this.$Y)}add(t,e){switch(e){case"millisecond":case"ms":return this.$d.setMilliseconds(this.$d.getMilliseconds()+t),this;case"second":case"s":return this.$d.setSeconds(this.$d.getSeconds()+t),this;case"minute":case"m":return this.$d.setMinutes(this.$d.getMinutes()+t),this;case"hour":case"h":return this.$d.setHours(this.$d.getHours()+t),this;case"day":case"d":return this.$d.setDate(this.$d.getDate()+t),this;case"month":case"M":return this.month(this.$d.getMonth()+t,!0),this;case"year":case"Y":return this.year(this.$d.getFullYear()+t,!0),this;default:return this}}subtract(t,e){return this.add(-t,e)}clone(){return new s(this)}startOf(t){const e=this.clone();switch(t){case"second":case"s":return e.millisecond(0),e;case"minute":case"m":return e.millisecond(0),e.second(0),e;case"hour":case"h":return e.millisecond(0),e.second(0),e.minute(0),e;case"day":case"d":return e.millisecond(0),e.second(0),e.minute(0),e.hour(0),e;case"month":case"M":return e.millisecond(0),e.second(0),e.minute(0),e.hour(0),e.date(1),e;case"year":case"Y":return e.millisecond(0),e.second(0),e.minute(0),e.hour(0),e.date(1),e.month(0),e;default:return e}}endOf(t){const e=this.clone();switch(t){case"second":case"s":return e.millisecond(999),e;case"minute":case"m":return e.millisecond(999),e.second(59),e;case"hour":case"h":return e.millisecond(999),e.second(59),e.minute(59),e;case"day":case"d":return e.millisecond(999),e.second(59),e.minute(59),e.hour(23),e;case"month":case"M":return e.millisecond(999),e.second(59),e.minute(59),e.hour(23),e.date(s.getMonthDays(this.$Y,this.$M)),e;case"year":case"Y":return e.millisecond(999),e.second(59),e.minute(59),e.hour(23),e.date(30),e;default:return e}}valueOf(){return this.$d.getTime()}format(t="YYYY-MM-DD HH:mm:ss"){const e={BBBB:this.$Y+543,BB:(this.$Y+543).toString().slice(-2),YYYY:this.$Y,YY:this.$Y.toString().slice(-2),MM:c(this.$M+1),M:this.$M+1,DD:c(this.$D),D:this.$D,HH:c(this.$h),H:this.$h,hh:c(this.$h%12),h:this.$h%12,mm:c(this.$m),m:this.$m,ss:c(this.$s),s:this.$s,SSS:c(this.$S,3),SS:c(this.$S),S:this.$S,A:this.$h<12?"AM":"PM",a:this.$h<12?"am":"pm"};return t.replace(/((?:YY){1,2}|M{1,4}|D{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|A|a)/g,(r,i)=>e[i])}to(t,e=!0){return s.relationTime(this,t,e)}toNow(t=!0){return s.relationTime(this,new s,t)}from(t,e=!0){return s.relationTime(this,t,e)}fromNow(t=!0){return s.relationTime(this,new s,t)}daysInMonth(){return s.getMonthDays(this.$Y,this.$m)}toDate(){return new Date(this.$d)}toArray(){return[this.$Y,this.$M,this.$D,this.$h,this.$m,this.$s,this.$S]}toJSON(){return this.format("YYYY-MM-DD HH:mm:ss.SSS")}toString(){return this.format("YYYY-MM-DD HH:mm:ss.SSS")}toObject(){return{year:this.$Y,month:this.$M,date:this.$D,hour:this.$h,minute:this.$m,second:this.$s,millisecond:this.$S}}toISOString(){return this.format("YYYY-MM-DDTHH:mm:ss.SSSZ")}toISOJSON(){return this.format("YYYY-MM-DDTHH:mm:ss.SSSZ")}static max(t,...e){const r=Array.isArray(t)?t:[t,...e];return r.sort((i,u)=>u.valueOf()-i.valueOf()),r[0]}static min(t,...e){const r=Array.isArray(t)?t:[t,...e];return r.sort((i,u)=>i.valueOf()-u.valueOf()),r[0]}static isLeapYear(t){return t%100===0?t%400===0:t%4===0}static getMonthDays(t,e){const r=(e%12+12)%12;return r===1?s.isLeapYear(t)?29:28:[0,2,4,6,7,9,11].includes(r)?31:30}static relationTime(t,e,r=!0){let i=t.$d.getTime()-e.$d.getTime(),u="前";i<0&&([e,t]=[t,e],i*=-1,u="后");const n=r?u:"";if(i===0)return"刚刚";if(i<45*s.MILLISECONDS_A_SECOND)return`${Math.round(i/s.MILLISECONDS_A_SECOND)}秒${n}`;if(i<90*s.MILLISECONDS_A_SECOND)return`1分钟${n}`;if(i<45*s.MILLISECONDS_A_MINUTE)return`${Math.round(i/s.MILLISECONDS_A_MINUTE)}分钟${n}`;if(i<90*s.MILLISECONDS_A_MINUTE)return`1小时${n}`;if(i<22*s.MILLISECONDS_A_HOUR)return`${Math.round(i/s.MILLISECONDS_A_HOUR)}小时${n}`;if(i<36*s.MILLISECONDS_A_HOUR)return`1天${n}`;if(i<26*s.MILLISECONDS_A_DAY)return`${Math.round(i/s.MILLISECONDS_A_DAY)}天${n}`;if(i<46*s.MILLISECONDS_A_DAY)return`1个月${n}`;const $=(t.$Y-e.$Y)*12+t.$M-e.$M;return $<11?`${$}个月${n}`:$<18?`1年${n}`:`${Math.round($/12)}年${n}`}static isDay(t){return t instanceof s}};h(s,"SECONDS_A_MINUTE",60),h(s,"SECONDS_A_HOUR",s.SECONDS_A_MINUTE*60),h(s,"SECONDS_A_DAY",s.SECONDS_A_HOUR*24),h(s,"SECONDS_A_WEEK",s.SECONDS_A_DAY*7),h(s,"MILLISECONDS_A_SECOND",1e3),h(s,"MILLISECONDS_A_MINUTE",s.SECONDS_A_MINUTE*s.MILLISECONDS_A_SECOND),h(s,"MILLISECONDS_A_HOUR",s.SECONDS_A_HOUR*s.MILLISECONDS_A_SECOND),h(s,"MILLISECONDS_A_DAY",s.SECONDS_A_DAY*s.MILLISECONDS_A_SECOND),h(s,"MILLISECONDS_A_WEEK",s.SECONDS_A_WEEK*s.MILLISECONDS_A_SECOND);let d=s;const g=M({__name:"DayExample",setup(o){const t=new d("2024-02-29 00:00:00");return console.log(t.format()),t.year(2025),console.log(t.format()),console.log(new d("2000-01-01").toNow()),console.log(new d("2024-10-22").from(new d("2024-09-21"))),(e,r)=>(l(),D("div"))}});export{g as default};
